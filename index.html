<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <script>
        console.log('let\'s play rock, paper, scissors! best of 5 rounds wins')

        //function plays one round
        function playRound(c,p) {
            //define console log messages for different outcomes
            win = 'you win! ' + p + ' beats ' + c
            lose = 'you lose :( ' + c + ' beats ' + p
            tie = 'you both picked ' + p + ', try again'
            //return different outcomes based on player and computer choices
            if (c===p) {
                console.log(tie), outcome='tie'}
            
            else if (p==='rock') {
                if (c==='scissors') {
                    console.log(win), outcome='w'}
                else console.log(lose), outcome='l'}
            
            else if (p==='paper') {
                if (c==='rock') {
                    console.log(win), outcome='w'}
                else console.log(lose), outcome='l'}

            else if (p==='scissors') {
                if (c==='paper') {
                    console.log(win), outcome='w'}
                else console.log(lose), outcome='l'}

            else {console.log('invalid response. please type: rock, paper, or scissors')}
                }
        //function plays five round game
        function game() {
            //set initial score values for player and computer
            let playerScore = 0
            let computerScore = 0
            let tieScore = 0
            //loop for 5 round game
            for (let i = 0; i < 5; i++) {
            //get computer choice by random int 1-3
            computerNum = Math.floor(Math.random() * 3)+1;
            function computerPlay(n) {
            if(n === 1) return 'rock';
            else if (n === 2) return 'paper';
            else if (n === 3) return 'scissors';
        }
            c = computerPlay(computerNum)

            //get player choice by prompt
            let playerSelection = prompt("Choose your fighter:");
            p = playerSelection.toLowerCase()
            //calling funtion to play one round
            playRound(c,p)
            //add to score based on outcome of round
            if(outcome==='w')
              playerScore++
            if (outcome==='l')
              computerScore++
            if (outcome==='tie')
              tieScore++
            
        }
            //log final score of 5 round game to console
            console.log('final score '+playerScore+' - '+computerScore+' - '+tieScore)
            if(computerScore > playerScore)
                console.log('computer wins')
            else if(computerScore < playerScore)
                console.log('you win')
            else console.log('tie game')
        }

        //call game function
        game()

    </script>
</body>
</html>